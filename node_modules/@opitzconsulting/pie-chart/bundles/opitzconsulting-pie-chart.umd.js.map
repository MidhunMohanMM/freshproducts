{"version":3,"file":"opitzconsulting-pie-chart.umd.js.map","sources":["ng://@opitzconsulting/pie-chart/lib/pie-chart.service.ts","ng://@opitzconsulting/pie-chart/lib/pie-chart.component.ts","ng://@opitzconsulting/pie-chart/lib/pie-chart.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PieChartService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, Input, OnChanges, DoCheck, ElementRef, SimpleChanges, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\nimport * as d3 from 'd3';\r\n\r\n/** chart item properties */\r\nexport interface PieChartData {\r\n  /** value of item */\r\n  value: number;\r\n  /** caption of item (must be unique) */\r\n  caption: string;\r\n  /** optional color of item (if not set, generated automatically) */\r\n  color?: string;\r\n}\r\n\r\n/** internal chart item properties */\r\nexport interface InternalPieChartData extends PieChartData {\r\n  /** svg path for item */\r\n  path?: string;\r\n  /** delete flag for removing after transition */\r\n  deleted?: boolean;\r\n}\r\n\r\n/** internal type for optimization */\r\nexport type PieArcData = d3.PieArcDatum<InternalPieChartData> & d3.DefaultArcObject;\r\n\r\n@Component({\r\n  selector: 'oc-pie-chart',\r\n  template: `<div class=\"pie-chart-tooltip\"></div>\r\n<svg [attr.width]=\"width\" [attr.height]=\"height\">\r\n    <g [attr.transform]=\"center\">\r\n        <path *ngFor=\"let d of curData; let idx = index;\" [attr.idx]=\"idx\" \r\n            [attr.fill]=\"d.data.color\" [attr.d]=\"d.data.path\" [attr.tooltip]=\"d.data.caption\"\r\n            (mouseover)=\"overPath($event)\" (mousemove)=\"movePath($event);\" (mouseout)=\"outPath($event)\" (click)=\"clickPath($event)\" />\r\n    </g>\r\n</svg>`,\r\n  styles: [`div.pie-chart-tooltip{position:fixed;display:none;opacity:0;font:12px sans-serif;color:#fff;background-color:rgba(35,47,52,.8);padding:5px}path{opacity:.7;stroke:#fff;stroke-width:2px}path:hover{opacity:1;stroke:#e3e3e3}`]\r\n})\r\nexport class PieChartComponent implements OnInit, OnChanges, DoCheck {\r\n  /** chart data, which should be displayed */\r\n  @Input() data: Array<PieChartData> = [];\r\n  /** chart width in pixel */\r\n  @Input() width = 250;\r\n  /** chart height in pixel */\r\n  @Input() height = 250;\r\n  /** duration of animation transition */\r\n  @Input() duration = 1000;\r\n  /** inner spacing in pixel, if greater than 0 it defines the radius of the empty circle in the middle */\r\n  @Input() innerSpacing = 0;\r\n  /** outer spacing in pixel */\r\n  @Input() outerSpacing = 1;\r\n  /** fired when user clicks on a chart entry */\r\n  @Output() chartClick: EventEmitter<PieChartData> = new EventEmitter();\r\n  /** fired when user hovers a chart entry */\r\n  @Output() chartHover: EventEmitter<PieChartData> = new EventEmitter();\r\n\r\n  /** pie chart radius in pixel */\r\n  public radius: number;\r\n  /** transform-attribute to center chart vertical and horizontal */\r\n  public center: string;\r\n  /** current chart data with angle and path definitions, it will be consistent to the representation */\r\n  public curData: PieArcData[] = [];\r\n  /** end chart data with angle and path definitions, it will representate the end state and used only for interpolation */\r\n  private endData: PieArcData[] = [];\r\n  /** path generator function (internal use only) */\r\n  protected pathGenerator: d3.Arc<any, d3.DefaultArcObject>;\r\n  /** copy of last processed data, used to identify changes in ngDoCheck that Angular overlooked */\r\n  private lastData: Array<PieChartData> = [];\r\n\r\n  /**\r\n   * Creates a deep copy of an variable. Do not use this function with recursive objects or\r\n   * browser objects like window or document.\r\n   * ToDo: should be outsourced.\r\n   * @param v \r\n   */\r\n  protected deepCopy<T>(v: T): T {\r\n    return JSON.parse(JSON.stringify(v));\r\n  };\r\n\r\n  /**\r\n   * constructor\r\n   * @param element \r\n   */\r\n  constructor(\r\n    private element: ElementRef\r\n  ) {};\r\n\r\n  ngOnInit() {\r\n    this.tooltip = this.element.nativeElement.querySelector('div.pie-chart-tooltip') as HTMLDivElement;\r\n  }\r\n\r\n  /**\r\n   * Fired when Angular (re-)sets data-bound properties. This function does not fire when changed data in bound objects or arrays.\r\n   * Angular only checks references.\r\n   * @param changes \r\n   */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    // check if entries in bound data property has changed\r\n    this.detectDataChange();\r\n  };\r\n\r\n  /**\r\n   * Fired during every change detection run to detect and act upon changes that Angular can't or won't detect on its own.\r\n   */\r\n  ngDoCheck() {\r\n    // check if entries in bound data property has changed\r\n    this.detectDataChange();\r\n  };\r\n\r\n  /**\r\n   * Checks whether the data property has changed. This function also check whether only an item property has\r\n   * changed. In case of change the chart will be rendered.\r\n   */\r\n  protected detectDataChange() {\r\n    // fast check: if items were added or removed\r\n    let dataChanged = (this.data.length !== this.lastData.length);\r\n    // detail check:\r\n    if(dataChanged === false){\r\n      // loop all items\r\n      for(let idx=0; idx<this.data.length; ++idx){\r\n        const a = this.data[idx];\r\n        const b = this.lastData[idx];\r\n        // check internal item properties\r\n        dataChanged = dataChanged || (a.caption !== b.caption || a.color !== b.color || a.value !== b.value);\r\n        // for optimization, stop if change detected\r\n        if(dataChanged) break;\r\n      }\r\n    }\r\n    // if change detected\r\n    if(dataChanged){\r\n      // render chart\r\n      this.render();\r\n      // copy current data to identify changes\r\n      this.lastData = this.deepCopy(this.data);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Generates a random color for a chart item.\r\n   */\r\n  protected generateRandomColor(value: number): string {\r\n    const hue2rgb = (p: number, q: number, t: number) => {\r\n      if(t < 0) t += 1; \r\n      if(t > 1) t -= 1; \r\n      if(t < 1/6) return p + (q - p) * 6 * t;\r\n      if(t < 1/2) return q;\r\n      if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n      return p;\r\n    };\r\n    // make sure, generated color does not exists yet in data array\r\n    let color;\r\n    let uniqueColorGenerated = false;\r\n    while(uniqueColorGenerated === false){\r\n      const h = (Math.random() + 0.618033988749895) % 1;\r\n      const s = .5;\r\n      const l = .6;\r\n      let q = l + s - l * s;\r\n      let p = 2 * l - q;\r\n      const r = hue2rgb(p, q, h + 1/3);\r\n      const g = hue2rgb(p, q, h);\r\n      const b = hue2rgb(p, q, h - 1/3);\r\n      color = '#' \r\n        + Math.round(r * 255).toString(16)\r\n        + Math.round(g * 255).toString(16)\r\n        + Math.round(b * 255).toString(16);\r\n      uniqueColorGenerated = (this.data.map( (d) => d.color).filter( (d) => d === color).length === 0);\r\n    }\r\n    return color;\r\n  };\r\n\r\n  /**\r\n   * generates a pie chart item definition\r\n   * @param item \r\n   * @param index \r\n   * @param value \r\n   * @param startAngle \r\n   * @param endAngle \r\n   */\r\n  protected generatePieArcData(item: PieChartData, index: number, value: number, startAngle: number, endAngle: number): PieArcData {\r\n    // generate definition\r\n    const result = {\r\n      data: item,\r\n      index: index,\r\n      value: value,\r\n      startAngle: startAngle,\r\n      endAngle: endAngle,\r\n      padAngle: 0,\r\n      innerRadius: this.radius - 40,\r\n      outerRadius: this.radius\r\n    };\r\n    // generate svg path d-attribute from definition\r\n    (result.data as InternalPieChartData).path = this.pathGenerator(result);\r\n    // return definition\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Checks whether items were deleted and initiate delete transition for these items.\r\n   */\r\n  protected detectDeletedEntries() {\r\n    // loop current state entries\r\n    this.curData.forEach( (curItem, idx) => {\r\n      // only check if current entry is not marked as deleted\r\n      if(curItem.data.deleted!==true){\r\n        // check if entry not exists anymore\r\n        const isDeleted = (this.data.filter( (item) => item.caption === curItem.data.caption).length === 0);\r\n        // if entry is deleted\r\n        if(isDeleted){\r\n          // mark entry in current state as deleted\r\n          this.curData[idx].data.deleted = true;\r\n          // mark entry in end state as deleted and set value to 0 for transtion\r\n          this.endData[idx].data.deleted = true;\r\n          this.endData[idx].value = 0;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Checks whether items were inserted and initiate insert transition for these items.\r\n   */\r\n  protected detectInsertedEntries(): void {\r\n    // loop given data array\r\n    this.data.forEach( (item, idx) => {\r\n      // check if entry is new\r\n      const isInserted = (this.curData.filter( (curItem) => curItem.data.deleted!==true && curItem.data.caption === item.caption).length===0);\r\n      // if entry is new\r\n      if(isInserted){\r\n        // generate current state entry with value of 0 for transition\r\n        {\r\n          const d = this.generatePieArcData(this.deepCopy(item), idx, 0, -1, -1);\r\n          this.curData.splice(idx, 0, d);\r\n        }\r\n        // generate end state entry with given value\r\n        {\r\n          const d = this.generatePieArcData(this.deepCopy(item), idx, item.value, -1, -1);\r\n          this.endData.splice(idx, 0, d);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Checks whether items were moved and initiate transition for these items.\r\n   */\r\n  protected detectMovedEntries(): void {\r\n    // separate index in current state array\r\n    let curIndex = 0;\r\n    // loop data array\r\n    for(let index=0; index<this.data.length; ++index){\r\n      // find next index in current state array, skip items marked as deleted\r\n      while(this.curData[curIndex].data.deleted) ++curIndex; \r\n      // check if item is moved by comparing captions\r\n      if(this.data[index].caption !== this.curData[curIndex].data.caption){\r\n        // updating state items\r\n        {\r\n          // mark item in current state array as deleted\r\n          this.curData[curIndex].data.deleted = true;\r\n          // mark item in end state array as deleted and set value to 0 for transition\r\n          this.endData[curIndex].data.deleted = true;\r\n          this.endData[curIndex].value = 0;\r\n        }\r\n        // insert entry in current state array with value 0 for transition\r\n        {\r\n          const item = this.deepCopy(this.data[index]);\r\n          const d = this.generatePieArcData(item, -1, 0, -1, -1);\r\n          this.curData.splice(curIndex, 0, d);\r\n        }\r\n        // insert entry in end state array with given value\r\n        {\r\n          const item = this.deepCopy(this.data[index]);\r\n          const d = this.generatePieArcData(item, -1, item.value, -1, -1);\r\n          this.endData.splice(curIndex, 0, d);\r\n        }\r\n        // because of inserting item to the array's, increment index twice\r\n        ++curIndex;\r\n      }\r\n      ++curIndex;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Synchronize state arrays (curData / endData) with given items (data).\r\n   */\r\n  protected syncItems(): void {\r\n    // sync values and colors\r\n    this.data.forEach( (item, index) => {\r\n      // find item index in state array's\r\n      let curIndex = 0;\r\n      for(let i=0; i<this.curData.length; ++i){\r\n        if(!this.curData[i].data.deleted && this.curData[i].data.caption === item.caption){\r\n          curIndex = i;\r\n          break;\r\n        }\r\n      }\r\n      // update value in state entries\r\n      this.curData[curIndex].data.value = item.value;\r\n      this.endData[curIndex].data.value = item.value;\r\n      // update value in end state entry for transition\r\n      this.endData[curIndex].value = item.value;\r\n      // update color in end state entry for transition\r\n      this.endData[curIndex].data.color = item.color;\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Function for interrupt a running chart animation. Necessary because if transition is still active\r\n   * when a new transition is started, tween factory function from previos transition will still be fired \r\n   * until end of transition is reached. For entries which have a started transition the tween factory\r\n   * function will be fired multiple times with different tween interpolation range!\r\n   */\r\n  protected interrupt: Function = undefined;\r\n\r\n  /**\r\n   * will be triggerd to animate chart changes.\r\n   * important! this method musst be called within a setTimeout function because of angulars \r\n   * rendering cycle.\r\n   */\r\n  protected animateChanges(): void {\r\n    // get svg element reference\r\n    const svg = (this.element.nativeElement.querySelector('svg') as SVGElement);\r\n    // reference all path elements in svg element\r\n    const paths = d3.select(svg).selectAll('path');\r\n    // define interruption function to stop running animations\r\n    this.interrupt = () => {\r\n      // call paths interrupt method\r\n      paths.interrupt();\r\n      // delete interupt definition\r\n      delete this.interrupt;\r\n    };\r\n    // start path animation\r\n    paths\r\n      .transition()\r\n      .duration(this.duration)\r\n      // Use d3 attrTween transition method with dummy attribute. Make sure the dummy attribute does not\r\n      // exists at path elements!\r\n      .attrTween('pie-tween-dummy', (arg0, idx, nodeList) => {\r\n        // create interpolation functions to calculate step values\r\n        const iValue = d3.interpolate(this.curData[idx].value, this.endData[idx].value);\r\n        const iStartAngle = d3.interpolate(this.curData[idx].startAngle, this.endData[idx].startAngle);\r\n        const iEndAngle = d3.interpolate(this.curData[idx].endAngle, this.endData[idx].endAngle);\r\n        const iColor = d3.interpolate(this.curData[idx].data.color, this.endData[idx].data.color);\r\n        // return factory function for animation steps\r\n        return (t) => {\r\n          // interpolate values by given transition value\r\n          this.curData[idx].value = iValue(t);\r\n          this.curData[idx].startAngle = iStartAngle(t);\r\n          this.curData[idx].endAngle = iEndAngle(t);\r\n          this.curData[idx].data.color = iColor(t);\r\n          // generate new path\r\n          this.curData[idx].data.path = this.pathGenerator(this.curData[idx]);\r\n          // return empty string. This is only necessary for typescript compiler. Nothing should be changed here.\r\n          return '';\r\n        };\r\n      })\r\n      // when transition is complete\r\n      .on('end', (arg0, idx, nodeList) => {\r\n        // when transition is complete for the last item\r\n        if(idx===nodeList.length-1){\r\n          // remove as deleted marked entries\r\n          this.cleanStateItems();\r\n          // Delete interupt definition, because everything has finished and nothing can be interrupted.\r\n          delete this.interrupt;\r\n        }\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Must be called after transition ends to remove entries in curData and endData which are marked\r\n   * as deleted.\r\n   */\r\n  protected cleanStateItems(): void {\r\n    // clean current state array\r\n    for(let i=this.curData.length-1; i>=0; --i){\r\n      if(this.curData[i].data.deleted===true){\r\n        this.curData.splice(i, 1);\r\n      }\r\n    }\r\n    // clean end state array\r\n    for(let i=this.endData.length-1; i>=0; --i){\r\n      if(this.endData[i].data.deleted===true){\r\n        this.endData.splice(i,1);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Checks whether all items have assigned color values and if necessary completes colors in given data array.\r\n   */\r\n  protected initColors(): void {\r\n    // loop all entries\r\n    this.data.forEach( (item) => {\r\n      // if no color is assigned\r\n      if(!item.color){\r\n        // generate random color for item\r\n        item.color = this.generateRandomColor(item.value);\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Returns maximal angle of current state items.\r\n   */\r\n  protected getMaxAngle(): number {\r\n    let maxAngle = 0;\r\n    this.curData.forEach( (curItem) => { \r\n      if(curItem.endAngle > maxAngle){\r\n        maxAngle = curItem.endAngle;\r\n      }\r\n    });\r\n    return maxAngle;\r\n  };\r\n\r\n  /**\r\n   * Calculates angles for current and end state items.\r\n   * @param maxAngle last maximal angle in current state to avoid \"jumping\" transitions\r\n   */\r\n  protected calculateAngles(maxAngle: number): void {\r\n    // calculate angles for current state items\r\n    {\r\n      // calculate sum of values\r\n      const total = this.curData.reduce((p, c) => p + c.value, 0);\r\n      // loop items and calculate start and end angles, initialize rendering\r\n      let lastAngle = 0;\r\n      this.curData.forEach( (item, idx) => {\r\n        // calculate angles by last used maximal angle. without data (total=0) simulate 0 values, so draw items in clockwise direction.\r\n        const nextAngle = lastAngle + ((maxAngle) / ((total===0)?1:total)) * item.value;\r\n        item.startAngle = lastAngle;\r\n        item.endAngle = nextAngle;\r\n        item.index = idx;\r\n        item.data.path = this.pathGenerator(item);\r\n        lastAngle = nextAngle;\r\n      });\r\n    }\r\n    // calculate angles for end state items\r\n    {\r\n      // calculate sum of values\r\n      const total = this.endData.reduce((p, c) => p + c.value, 0);\r\n      // loop items and calculate start and end angles, initialize rendering\r\n      let lastAngle = 0;\r\n      this.endData.forEach( (item, idx) => {\r\n        // calculate angles with circumference. without data (total=0) simulate 0 values, so draw items in anti-clockwise direction.\r\n        const nextAngle = lastAngle + ((2 * Math.PI) / ((total===0)?1:total)) * item.value;\r\n        item.startAngle = lastAngle;\r\n        item.endAngle = nextAngle;\r\n        item.index = idx;\r\n        item.data.path = this.pathGenerator(item);\r\n        lastAngle = nextAngle;\r\n      });\r\n    }\r\n  };\r\n\r\n  /** reference to tooltip div element */\r\n  private tooltip: HTMLDivElement;\r\n\r\n  /**\r\n   * fired when mouse enters a pie chart path element and shows tooltip\r\n   * @param event \r\n   */\r\n  public overPath(event: MouseEvent){\r\n    // get tooltip-text of path element\r\n    const txt = (event.target as SVGPathElement).getAttribute('tooltip');\r\n    // show tooltip and assign text\r\n    d3.select(this.tooltip)\r\n      .html(txt)\r\n      .style('display', 'block')\r\n      .transition()\r\n      .duration(250)\r\n      .style('opacity', 1);\r\n\r\n    // get index\r\n    const idx = parseInt((event.target as SVGPathElement).getAttribute('idx'),10);\r\n    // get caption of element\r\n    const caption = this.curData[idx].data.caption;\r\n    // get original data by caption\r\n    const item = this.data.filter( (d) => d.caption === caption)[0];\r\n    // if data found then emit chart click event\r\n    if(item){\r\n      this.chartHover.emit(item);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * fired when mouse moves over a pie chart path element and adjusts tooltip\r\n   * @param event \r\n   */\r\n  public movePath(event: MouseEvent){\r\n    // aggregate scroll positions, because event.page* properties are relative to top left corner of document\r\n    let offsetX = 0;\r\n    let offsetY = 0;\r\n    let element = (this.tooltip.parentElement as HTMLElement);\r\n    while(element){\r\n      offsetX += element.scrollLeft;\r\n      offsetY += element.scrollTop;\r\n      element = element.parentElement;\r\n    }\r\n    // adjust tooltip\r\n    d3.select(this.tooltip)\r\n      .style('top', (event.pageY - offsetY + 10)+'px')\r\n      .style('left', (event.pageX - offsetX + 10)+'px');\r\n  };\r\n\r\n  /**\r\n   * fired when mouse leaves a pie chart path element and hides tooltip\r\n   * @param event \r\n   */\r\n  public outPath(event: MouseEvent){\r\n    // hide tooltip\r\n    d3.select(this.tooltip)\r\n      .transition()\r\n      .duration(250)\r\n      .style('opacity',0)\r\n      .on('end', () => {\r\n        d3.select(this.tooltip).style('display', 'none')\r\n      });\r\n  };\r\n\r\n  /**\r\n   * fired when user clicks on a pie chart path element\r\n   * @param event \r\n   */\r\n  public clickPath(event: MouseEvent){\r\n    // get index\r\n    const idx = parseInt((event.target as SVGPathElement).getAttribute('idx'),10);\r\n    // get caption of element\r\n    const caption = this.curData[idx].data.caption;\r\n    // get original data by caption\r\n    const item = this.data.filter( (d) => d.caption === caption)[0];\r\n    // if data found then emit chart click event\r\n    if(item){\r\n      this.chartClick.emit(item);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * main rendering function\r\n   */\r\n  protected render(): void{\r\n    // interrupt possible running animations\r\n    if(this.interrupt) this.interrupt();\r\n    // initialize chart colors\r\n    this.initColors();\r\n    // calculate radius\r\n    this.radius = Math.min(this.width, this.height) / 2;\r\n    // calculate middle of chart\r\n    this.center = `translate(${this.width / 2}, ${this.height / 2})`;\r\n    // create path generator\r\n    this.pathGenerator = d3.arc().outerRadius(this.radius-this.outerSpacing).innerRadius(this.innerSpacing);\r\n    // get current maximal angle, necessary to avoid \"jumping\" transitions\r\n    const maxAngle = this.getMaxAngle();\r\n    // check data array for deleted entries and assign transition configuration\r\n    this.detectDeletedEntries();\r\n    // check data array for inserted entries and assign transition configuration\r\n    this.detectInsertedEntries();\r\n    // check data array for moved entries and assign transition configuration\r\n    this.detectMovedEntries();\r\n    // synchronize data entries with current and end state entries\r\n    this.syncItems();\r\n    // calculate angles for current and end state entries\r\n    this.calculateAngles(maxAngle);\r\n    // important! use setTimeout because angular first must exec change detection\r\n    setTimeout( () => {\r\n      // start change animations\r\n      this.animateChanges();\r\n    }, 0);\r\n  };\r\n\r\n  /*\r\n  private version1(): void {\r\n    const sum = this.data.reduce((p, c) => p + c.value, 0);\r\n    let lastAngle = 0;\r\n    this.data.forEach(d => {\r\n      const newAngle = lastAngle + ((2 * Math.PI) / sum) * d.value;\r\n      const context = path();\r\n      context.moveTo(0, 0);\r\n      context.arc(0, 0, this.radius, lastAngle, newAngle, false);\r\n      d.path = context.toString();\r\n      console.log(d.path);\r\n      lastAngle = newAngle;\r\n    });\r\n  }\r\n  */\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { PieChartComponent } from './pie-chart.component';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\n@NgModule({\r\n  imports: [BrowserModule],\r\n  declarations: [PieChartComponent],\r\n  exports: [PieChartComponent]\r\n})\r\nexport class PieChartModule {}\r\n"],"names":["Injectable","EventEmitter","d3.select","d3.interpolate","d3.arc","Component","ElementRef","Input","Output","NgModule","BrowserModule"],"mappings":"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"}
