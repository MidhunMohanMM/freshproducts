/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { filter } from 'rxjs/operators';
import { StrategyBase } from './strategy-base';
import { InitialScrollPosition } from '../enum/initial-scroll-position-type.enum';
var ScrollingToBottom = /** @class */ (function (_super) {
    tslib_1.__extends(ScrollingToBottom, _super);
    function ScrollingToBottom(directive, state) {
        return _super.call(this, directive, state) || this;
    }
    /**
     * @param {?} scrollPairChanged
     * @return {?}
     */
    ScrollingToBottom.prototype.scrollDirectionChanged = /**
     * @param {?} scrollPairChanged
     * @return {?}
     */
    function (scrollPairChanged) {
        var _this = this;
        return scrollPairChanged.pipe(filter(function (scrollPositions) {
            return _super.prototype.wasScrolledDown.call(_this, scrollPositions[0], scrollPositions[1]);
        }));
    };
    /**
     * @param {?} scrollDirectionChanged
     * @return {?}
     */
    ScrollingToBottom.prototype.scrollRequestZoneChanged = /**
     * @param {?} scrollDirectionChanged
     * @return {?}
     */
    function (scrollDirectionChanged) {
        var _this = this;
        return scrollDirectionChanged.pipe(filter(function (scrollPositions) {
            return _super.prototype.isScrollDownEnough.call(_this, scrollPositions[1], _this.directive.scrollDownPercentilePositionTrigger);
        }));
    };
    /**
     * @return {?}
     */
    ScrollingToBottom.prototype.askForUpdate = /**
     * @return {?}
     */
    function () {
        this.directive.onScrollDown.next();
    };
    /**
     * @return {?}
     */
    ScrollingToBottom.prototype.setInitialScrollPosition = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var initialScrollPositionValue = _super.prototype.getInitialScrollPositionValue.call(this, InitialScrollPosition.TOP);
        this.directive.scrollTo(initialScrollPositionValue);
    };
    /**
     * @return {?}
     */
    ScrollingToBottom.prototype.setPreviousScrollPosition = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var prevScrollPosition = this.state.previousScrollTop;
        this.directive.scrollTo(prevScrollPosition);
    };
    return ScrollingToBottom;
}(StrategyBase));
export { ScrollingToBottom };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nyb2xsaW5nLXRvLWJvdHRvbS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1pbmZpbml0ZS1zY3JvbGxlci8iLCJzb3VyY2VzIjpbInNyYy9hcHAvc2Nyb2xsaW5nLXN0cmF0ZWd5L3Njcm9sbGluZy10by1ib3R0b20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFeEMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBTy9DLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBRWxGO0lBQXVDLDZDQUFZO0lBRWpELDJCQUNFLFNBQXVDLEVBQ3ZDLEtBQTRCO2VBRTVCLGtCQUFNLFNBQVMsRUFBRSxLQUFLLENBQUM7SUFDekIsQ0FBQzs7Ozs7SUFFTSxrREFBc0I7Ozs7SUFBN0IsVUFBOEIsaUJBQStDO1FBQTdFLGlCQVVDO1FBUkMsT0FBTyxpQkFBaUIsQ0FBQyxJQUFJLENBQzNCLE1BQU0sQ0FBQyxVQUFDLGVBQWlDO1lBQ3ZDLE9BQU8saUJBQU0sZUFBZSxhQUMxQixlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQ2xCLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FDbkIsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUNILENBQUM7SUFDSixDQUFDOzs7OztJQUVNLG9EQUF3Qjs7OztJQUEvQixVQUFnQyxzQkFBb0Q7UUFBcEYsaUJBVUM7UUFSQyxPQUFPLHNCQUFzQixDQUFDLElBQUksQ0FDaEMsTUFBTSxDQUFDLFVBQUMsZUFBaUM7WUFDdkMsT0FBTyxpQkFBTSxrQkFBa0IsYUFDN0IsZUFBZSxDQUFDLENBQUMsQ0FBQyxFQUNsQixLQUFJLENBQUMsU0FBUyxDQUFDLG1DQUFtQyxDQUNuRCxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7Ozs7SUFFTSx3Q0FBWTs7O0lBQW5CO1FBQ0UsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDckMsQ0FBQzs7OztJQUVNLG9EQUF3Qjs7O0lBQS9COztZQUNRLDBCQUEwQixHQUFHLGlCQUFNLDZCQUE2QixZQUNwRSxxQkFBcUIsQ0FBQyxHQUFHLENBQzFCO1FBRUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsMEJBQTBCLENBQUMsQ0FBQztJQUN0RCxDQUFDOzs7O0lBRU0scURBQXlCOzs7SUFBaEM7O1lBQ1Esa0JBQWtCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUI7UUFDdkQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBQ0gsd0JBQUM7QUFBRCxDQUFDLEFBakRELENBQXVDLFlBQVksR0FpRGxEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBTdHJhdGVneUJhc2UgfSBmcm9tICcuL3N0cmF0ZWd5LWJhc2UnO1xuXG5pbXBvcnQgeyBOZ3hJbmZpbml0ZVNjcm9sbGVyRGlyZWN0aXZlIH0gZnJvbSAnLi4vbmd4LWluZmluaXRlLXNjcm9sbGVyLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBEaXJlY3RpdmVTdGF0ZVNlcnZpY2UgfSBmcm9tICcuLi9kaXJlY3RpdmUtc3RhdGUuc2VydmljZSc7XG5cbmltcG9ydCB7IFNjcm9sbGluZ1N0cmF0ZWd5IH0gZnJvbSAnLi4vbW9kZWwvc2Nyb2xsaW5nLXN0cmF0ZWd5Lm1vZGVsJztcbmltcG9ydCB7IFNjcm9sbFBvc2l0aW9uIH0gZnJvbSAnLi4vbW9kZWwvc2Nyb2xsLXBvc2l0aW9uLm1vZGVsJztcbmltcG9ydCB7IEluaXRpYWxTY3JvbGxQb3NpdGlvbiB9IGZyb20gJy4uL2VudW0vaW5pdGlhbC1zY3JvbGwtcG9zaXRpb24tdHlwZS5lbnVtJztcblxuZXhwb3J0IGNsYXNzIFNjcm9sbGluZ1RvQm90dG9tIGV4dGVuZHMgU3RyYXRlZ3lCYXNlIGltcGxlbWVudHMgU2Nyb2xsaW5nU3RyYXRlZ3kge1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRpcmVjdGl2ZTogTmd4SW5maW5pdGVTY3JvbGxlckRpcmVjdGl2ZSxcbiAgICBzdGF0ZTogRGlyZWN0aXZlU3RhdGVTZXJ2aWNlXG4gICkge1xuICAgIHN1cGVyKGRpcmVjdGl2ZSwgc3RhdGUpO1xuICB9XG5cbiAgcHVibGljIHNjcm9sbERpcmVjdGlvbkNoYW5nZWQoc2Nyb2xsUGFpckNoYW5nZWQ6IE9ic2VydmFibGU8U2Nyb2xsUG9zaXRpb25bXT4pOlxuICAgIE9ic2VydmFibGU8U2Nyb2xsUG9zaXRpb25bXT4ge1xuICAgIHJldHVybiBzY3JvbGxQYWlyQ2hhbmdlZC5waXBlKFxuICAgICAgZmlsdGVyKChzY3JvbGxQb3NpdGlvbnM6IFNjcm9sbFBvc2l0aW9uW10pID0+IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLndhc1Njcm9sbGVkRG93bihcbiAgICAgICAgICBzY3JvbGxQb3NpdGlvbnNbMF0sXG4gICAgICAgICAgc2Nyb2xsUG9zaXRpb25zWzFdXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc2Nyb2xsUmVxdWVzdFpvbmVDaGFuZ2VkKHNjcm9sbERpcmVjdGlvbkNoYW5nZWQ6IE9ic2VydmFibGU8U2Nyb2xsUG9zaXRpb25bXT4pOlxuICAgIE9ic2VydmFibGU8U2Nyb2xsUG9zaXRpb25bXT4ge1xuICAgIHJldHVybiBzY3JvbGxEaXJlY3Rpb25DaGFuZ2VkLnBpcGUoXG4gICAgICBmaWx0ZXIoKHNjcm9sbFBvc2l0aW9uczogU2Nyb2xsUG9zaXRpb25bXSkgPT4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuaXNTY3JvbGxEb3duRW5vdWdoKFxuICAgICAgICAgIHNjcm9sbFBvc2l0aW9uc1sxXSxcbiAgICAgICAgICB0aGlzLmRpcmVjdGl2ZS5zY3JvbGxEb3duUGVyY2VudGlsZVBvc2l0aW9uVHJpZ2dlclxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGFza0ZvclVwZGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmRpcmVjdGl2ZS5vblNjcm9sbERvd24ubmV4dCgpO1xuICB9XG5cbiAgcHVibGljIHNldEluaXRpYWxTY3JvbGxQb3NpdGlvbigpOiB2b2lkIHtcbiAgICBjb25zdCBpbml0aWFsU2Nyb2xsUG9zaXRpb25WYWx1ZSA9IHN1cGVyLmdldEluaXRpYWxTY3JvbGxQb3NpdGlvblZhbHVlKFxuICAgICAgSW5pdGlhbFNjcm9sbFBvc2l0aW9uLlRPUCxcbiAgICApO1xuXG4gICAgdGhpcy5kaXJlY3RpdmUuc2Nyb2xsVG8oaW5pdGlhbFNjcm9sbFBvc2l0aW9uVmFsdWUpO1xuICB9XG5cbiAgcHVibGljIHNldFByZXZpb3VzU2Nyb2xsUG9zaXRpb24oKTogdm9pZCB7XG4gICAgY29uc3QgcHJldlNjcm9sbFBvc2l0aW9uID0gdGhpcy5zdGF0ZS5wcmV2aW91c1Njcm9sbFRvcDtcbiAgICB0aGlzLmRpcmVjdGl2ZS5zY3JvbGxUbyhwcmV2U2Nyb2xsUG9zaXRpb24pO1xuICB9XG59XG4iXX0=